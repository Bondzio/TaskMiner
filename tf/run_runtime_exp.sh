#!/bin/bash

list_of_benchs=(
#'ASC_Sequoia/AMGmk'
#'ASC_Sequoia/IRSmk'
#'BenchmarkGame/fannkuch'
#'BenchmarkGame/n-body'
#'BenchmarkGame/nsieve-bits'
#'BenchmarkGame/partialsums'
#'BenchmarkGame/puzzle'
#'BenchmarkGame/spectral-norm'
#'BitBench/drop3'
#'BitBench/five11'
#'BitBench/uudecode'
#'BitBench/uuencode'
#'CoyoteBench/huffbench'
#'CoyoteBench/lpbench'
#'Dhrystone/dry'
#'Dhrystone/fldry'
#'McGill/exptree'
#'McGill/misr'
#'MiBench/automotive-basicmath'
#'MiBench/automotive-bitcount'
#'MiBench/consumer-jpeg'
#'MiBench/office-stringsearch'
#'MiBench/security-blowfish'
#'MiBench/security-sha'
#'MiBench/telecomm-CRC32'
#'Misc/dt'
#'Misc/evalloop'
#'Misc/fbench'
#'Misc/ffbench'
#'Misc/flops-1'
#'Misc/flops-2'
#'Misc/flops-3'
#'Misc/flops-4'
#'Misc/flops-5'
#'Misc/flops-6'
#'Misc/flops-7'
#'Misc/flops-8'
#'Misc/fp-convert'
#'Misc/himenobmtxpa'
#'Misc/lowercase'
#'Misc/mandel'
#'Misc/mandel-2'
#'Misc/matmul_f64_4x4'
#'Misc/perlin'
#'Misc/pi'
#'Misc/ReedSolomon'
#'Misc/revertBits'
#'Misc/richards_benchmark'
#'Misc/salsa20'
#'Misc/whetstone'
#'Shootout/ary3'
#'Shootout/hash'
#'Shootout/heapsort'
#'Shootout/hello'
#'Shootout/lists'
#'Shootout/matrix'
#'Shootout/methcall'
#'Shootout/nestedloop'
#'Shootout/objinst'
#'Shootout/random'
#'Shootout/sieve'
#'Shootout/strcat'
#'Stanford/Bubblesort'
#'Stanford/FloatMM'
#'Stanford/IntMM'
#'Stanford/Puzzle'
#'Stanford/Queens'
#'Stanford/RealMM'
#'adpcm/rawcaudio'
#'adpcm/rawdaudio'
#'g721/g721encode'
#'mpeg2/mpeg2dec'
#'Benchmarks/Fhourstones_31'
#'Benchmarks/SciMark2-C'
#'Ptrdist/anagram'
#'Ptrdist/ft'
#'Ptrdist/ks'
#'Trimaran/enc-md5'
#'Trimaran/enc-pc1'
#'Trimaran/netbench-crc'
#'Trimaran/netbench-url'
#'NPB-serial/is'
#'VersaBench/8b10b'
#'VersaBench/bmm'
#'VersaBench/ecbdes'
#'McCat/04-bisect'
#'McCat/05-eks'
#'Prolangs-C/agrep'
#'Prolangs-C/allroots'
#'Prolangs-C/assembler'
#'Prolangs-C/plot2fig'
'bots/alignment'
'bots/fft'
'bots/fib'
'bots/floorplan'
'bots/health'
'bots/knapsack'
'bots/nqueens'
'bots/sort'
'bots/sparselu'
'bots/strassen'
'bots/uts'
)

for numExec in {1..5}; do
  ulimit -s unlimited
  for ll in "${list_of_benchs[@]}"; do
      RUNTIME=10m JOBS=1 COMPILE=1 ANNOTATE=1 TASKMINER=1 EXEC=1 DIFF=1 ./run.sh "Benchmarks/$ll/"   
      cat run.log &>> result_run_runtime_exp/runP_$numExec.log
    done
  ulimit -s unlimited
  for ll in "${list_of_benchs[@]}"; do
      RUNTIME=10m JOBS=1 COMPILE=1 ANNOTATE=0 TASKMINER=0 EXEC=1 DIFF=1 ./run.sh "Benchmarks/$ll/"   
      cat run.log &>> result_run_runtime_exp/runS_$numExec.log
    done
  done
